name = "roster-lock-relay"
main = "server/src/index.ts"
compatibility_date = "2024-01-01"

# Static assets (React client)
[assets]
binding = "CLIENT_ASSETS"
directory = "./client/dist"

# Durable Objects
[[durable_objects.bindings]]
name = "ROOM"
class_name = "Room"
script_name = "roster-lock-relay"

# D1 Database (optional, for stats)
[[d1_databases]]
binding = "DB"
database_name = "roster-lock-db"
database_id = "" # Will be filled after creation

# Environment variables
[vars]
ENVIRONMENT = "development"

# Production environment overrides
[env.production]
name = "roster-lock-relay-production"

[[env.production.d1_databases]]
binding = "DB"
database_name = "roster-lock-db-production"
database_id = "" # Fill after creating production DB

[env.production.vars]
ENVIRONMENT = "production"
# ADMIN_TOKEN = "production-token-here"
